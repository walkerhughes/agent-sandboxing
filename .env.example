# =============================================================================
# Human-in-the-Loop Agent System - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# OpenAI (Frontend Chat Mode)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-...

# -----------------------------------------------------------------------------
# Anthropic (Modal Agent)
# -----------------------------------------------------------------------------
ANTHROPIC_API_KEY=sk-ant-...

# -----------------------------------------------------------------------------
# Database (Supabase Postgres)
# -----------------------------------------------------------------------------
# Get from: Supabase Dashboard -> Settings -> Database -> Connection string -> URI
# Use "Transaction pooler" for serverless (Vercel)
DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres

# -----------------------------------------------------------------------------
# Redis (Upstash) - for pub/sub real-time updates
# -----------------------------------------------------------------------------
UPSTASH_REDIS_REST_URL=https://...upstash.io
UPSTASH_REDIS_REST_TOKEN=...

# -----------------------------------------------------------------------------
# Modal Authentication
# -----------------------------------------------------------------------------
# Get these from https://modal.com/settings -> API Tokens
MODAL_TOKEN_ID=ak-...
MODAL_TOKEN_SECRET=as-...
MODAL_ENDPOINT_URL=https://...

# -----------------------------------------------------------------------------
# Webhook Security
# -----------------------------------------------------------------------------
# Secret for HMAC signature verification (Modal -> Vercel)
WEBHOOK_SECRET=your-secret-here

# -----------------------------------------------------------------------------
# Modal Endpoint
# -----------------------------------------------------------------------------
# Get this after running: modal deploy modal_agent/executor.py
# Format: https://{workspace}--human-in-the-loop-agent-spawn-agent.modal.run
MODAL_ENDPOINT_URL=https://your-workspace--human-in-the-loop-agent-spawn-agent.modal.run

# -----------------------------------------------------------------------------
# URLs
# -----------------------------------------------------------------------------
# For local dev with tunnel (cloudflared/ngrok), set PUBLIC_URL to your tunnel URL
# Example: PUBLIC_URL=https://random-words.trycloudflare.com
PUBLIC_URL=

# Auto-set by Vercel in production
VERCEL_URL=http://localhost:3000
